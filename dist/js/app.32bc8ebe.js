(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],p=0,h=[];p<i.length;p++)o=i[p],a[o]&&h.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(h.length)h.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/<weather-vue>/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("home")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("city",{attrs:{weather:e.weather}}),r("weather",{attrs:{weather:e.weather}}),r("det",{attrs:{weather:e.weather}}),r("preloader")],1)},i=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer container"},[r("div",{staticClass:"container-item"},[r("p",{staticClass:"property"},[e._v("Ветер")]),r("strong",{staticClass:"value"},[e._v(e._s(e.weather.wind.speed))]),r("span",[e._v("м/с, "+e._s(e.windDirection))])]),r("div",{staticClass:"container-item"},[r("p",{staticClass:"property"},[e._v("Давление")]),r("strong",{staticClass:"value"},[e._v(e._s(e.weather.main.pressure))]),r("span",[e._v("мм рт. ст.")])]),r("div",{staticClass:"container-item"},[r("p",{staticClass:"property"},[e._v("Влажность")]),r("strong",{staticClass:"value"},[e._v(e._s(e.weather.main.humidity))]),r("span",[e._v("%")])]),r("div",{staticClass:"container-item"},[r("p",{staticClass:"property"},[e._v("Вероятность дождя")]),r("strong",{staticClass:"value"},[e._v(e._s(e.weather.clouds.all))]),r("span",[e._v("%")])])])},u=[],l={computed:{weather:function(){return this.$store.state.weather},windDirection:function(){var e=this.weather.wind.deg;return e<90?"северный":e>=90&&e<180?"восточный":e>=180&&e<270?"южный":"западный"}}},p=l,h=r("2877"),d=Object(h["a"])(p,c,u,!1,null,null,null),f=d.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container top"},[r("div",{staticClass:"container-item"},[e.popupState?r("div",{staticClass:"input-field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"city"}],staticClass:"input-text",attrs:{type:"text"},domProps:{value:e.city},on:{"key-up":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setCity(t)},input:function(t){t.target.composing||(e.city=t.target.value)}}}),r("span",{on:{click:e.setCity}},[e._v("Ок")])]):e._e(),e.popupState?e._e():r("h2",[e._v(e._s(e.transliterate(e.weather.name,!0)))]),e.popupState?e._e():r("div",{staticClass:"property"},[r("span",{on:{click:function(t){e.popupState=!e.popupState}}},[e._v("Сменить город")]),e._v(" *\n      "),r("span",{on:{click:e.getMyLocation}},[e._v("Моё метоположение")])])]),r("div",{staticClass:"container-item ",attrs:{id:"cf"}},[r("div",{staticClass:"deg"},[e._v("\n      °\n      "),r("span",{staticClass:"left",class:{active:e.isC},on:{click:function(t){return e.setTemperatureType("C")}}},[e._v("C")]),r("span",{staticClass:"right",class:{active:!e.isC},on:{click:function(t){return e.setTemperatureType("F")}}},[e._v("F")])])])])},m=[],w=(r("4917"),r("28a5"),{data:function(){return{isC:!0,popupState:!1,city:""}},methods:{setTemperatureType:function(e){this.$store.commit("setType",e),this.isC="C"==e},transliterate:function(e,t){for(var r="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),n="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g),a=0;a<r.length;a++)e=e.split(t?n[a]:r[a]).join(t?r[a]:n[a]),e=e.split(t?n[a].toUpperCase():r[a].toUpperCase()).join(t?r[a].toUpperCase():n[a].toUpperCase());return e},setCity:function(){""==this.city?this.popupState=!1:(null!=this.city.match(/[а-яА-Я]/)&&(this.city=this.transliterate(this.city,!0)),this.$store.dispatch("getWeather",this.city),this.popupState=!1)},getMyLocation:function(){var e=this;this.$getLocation().then(function(t){console.log(t),e.$store.dispatch("getWeatherByCoordinates",t)})}},computed:{weather:function(){return this.$store.state.weather}}}),g=w,y=Object(h["a"])(g,v,m,!1,null,null,null),_=y.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"weather-conatiner"},[r("div",[r("img",{attrs:{src:"http://openweathermap.org/img/w/"+e.weather.weather[0].icon+".png",alt:""}}),r("span",[e._v(e._s(e.check)+"°")]),r("p",[e._v(e._s(e.weather.weather[0].description))])])])},C=[],x={data:function(){return{temperature:""}},computed:{check:function(){return this.temperature=this.$store.state.temperature,this.temperature},weather:function(){return this.$store.state.weather}}},k=x,S=Object(h["a"])(k,b,C,!1,null,null,null),j=S.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.preloader?r("div",{staticClass:"preloader"},[r("div",{staticClass:"loader"})]):e._e()},P=[],$={data:function(){return{state:!1}},computed:{preloader:function(){return this.$store.state.preloaderState}}},T=$,W=(r("bc2b"),Object(h["a"])(T,O,P,!1,null,null,null)),F=W.exports,E={name:"home",data:function(){return{weather:""}},components:{Det:f,City:_,Weather:j,Preloader:F},methods:{getWeather:function(){this.$store.dispatch("getWeather","London"),this.weather=this.$store.state.weather}},beforeMount:function(){this.weather=this.$store.state.weather},mounted:function(){console.log("bef"),this.getWeather(),console.log("af")}},M=E,A=Object(h["a"])(M,o,i,!1,null,null,null),U=A.exports,D={components:{Home:U}},L=D,R=(r("5c0b"),Object(h["a"])(L,a,s,!1,null,null,null)),N=R.exports,z=(r("96cf"),r("3b8d")),B=r("2f62"),q=r("bc3a"),I=r.n(q);n["a"].use(B["a"]);var J=new B["a"].Store({mutations:{setWeather:function(e,t){console.log(t),e.weather=t,e.temperature=(e.weather.main.temp-273.15).toFixed(0)},setType:function(e,t){e.temperature="F"==t?(9*(e.weather.main.temp-273.15)/5+32).toFixed(0):(e.weather.main.temp-273.15).toFixed(0)},setPreloaderState:function(e,t){e.preloaderState=t}},actions:{getWeather:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=r.charAt(0).toUpperCase()+r.slice(1),n("setPreloaderState",!0),e.prev=3,e.next=6,I.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(r,"&lang=ru&APPID=dde71fbac0787f1bd980572ef1162a55"));case 6:a=e.sent,n("setWeather",a.data),n("setPreloaderState",!1),console.log("gw"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),n("setPreloaderState",!1);case 15:case"end":return e.stop()}},e,null,[[3,12]])}));function t(t,r){return e.apply(this,arguments)}return t}(),getWeatherByCoordinates:function(){var e=Object(z["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,n("setPreloaderState",!0),e.prev=2,e.next=5,I.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(r.lat.toFixed(0),"&lon=").concat(r.lng.toFixed(0),"&lang=ru&APPID=dde71fbac0787f1bd980572ef1162a55\n          "));case 5:a=e.sent,n("setWeather",a.data),n("setPreloaderState",!1),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),n("setPreloaderState",!1);case 13:case"end":return e.stop()}},e,null,[[2,10]])}));function t(t,r){return e.apply(this,arguments)}return t}()},state:{temperature:"42",preloaderState:!1,weather:{weather:[{id:800,main:"Clear",description:"clear sky",icon:"01d"}],main:{temp:293.96,pressure:1021,humidity:43,temp_min:291.15,temp_max:296.48},wind:{speed:3.6,deg:180},clouds:{all:0}}}}),H=r("9483");Object(H["a"])("".concat("/<weather-vue>/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var G=r("ebfd"),K=r.n(G);n["a"].use(K.a),n["a"].config.productionTip=!1,new n["a"]({store:J,render:function(e){return e(N)}}).$mount("#app"),I.a.defaults.baseURL="https://api.openweathermap.org/"},"5c0b":function(e,t,r){"use strict";var n=r("5e27"),a=r.n(n);a.a},"5e27":function(e,t,r){},bc2b:function(e,t,r){"use strict";var n=r("fb3f"),a=r.n(n);a.a},fb3f:function(e,t,r){}});
//# sourceMappingURL=app.32bc8ebe.js.map